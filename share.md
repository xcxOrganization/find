##主题： 基于 wepy 的 小程序开发框架分享

### 一、为什么要用这套框架来开发

#### 1、 效率问题

	1. 不用手动刷新，小程序编辑器。 代码修改及时刷新
	2. 选择 合适的 IDE 开发效率更高
	3. 组件化、模板化 增加 代码复用、减少不必要的 工程量
	4. 基于 node 可以 利用更多的工具来 加快不必要的 人工耗时
	5.  和 原始模式 对比：
		 5.1.   创建一个新的页面，原始方法 需要创建 一个 文件夹 以及 四个文件 （wxml、wxss、js、json）
				 新框架 只需要一个 .wpy 文件 即可
		 5.2.   原始模式、虽然开启了 ES6 转 ES5  但是 类似 async await 等 新特性无法使用
			     新 框架 带有 babel 预编译。随便 使用 ES 版本 甚至是 ES8 
		 5.3   发布  uat prod 环境，无需改代码，直接通过 node 命名来执行。
		 5.4   代码可维护性高 等等

#### 2、 从  H5 转到 小程序开发的成本问题
	
	因为 wepy 开发的基础文件是 一个 .wpy 文件 和 vuejs 发开中使用 .vue 文件非常类似
	可以做一个 很平滑的过度。

	另外 wepy.cnfig.js 和 wepack.config.js 的规范也是 非常类似的。

	所以站在 框架的的角度上来讲 可以很 平滑的  从 H5 开发过度到 小程序开发。
	
#### 3、 组件化开发、模板化
#### 4、 前端开发的规范化
	
### 二、如何使用这套框架


### 基于 wepyJs 的小程序开发框架

    虽然可能前期需要一点点的学习成本，但是长远来看，这些是有必要的。

### 开发环境运行

```bash
# 全局安装 wepy

npm install wepy-cli -g

# 安装依赖
npm i 

# 启动实时编译
npm run dev 
或者
wepy build --watch

推荐使用 npm run dev
```

### 开发使用说明

1. 在安装完 开发环境之后，并运行起来之后。 再使用微信开发者工具新建项目， 
   然后 本地开发选择 ‘dist’ 目录。

2. 因为 wepy 自带babel 预编译 ES6。 所以需要在 小程序开发工具中 关闭 ES6 转 ES5 

3. 最后就可以开始愉快的编写 业务代码了。


### 发布过程

1. npm run build 自动切换至 生产线。无需手动改 环境变量

2. 在运行 完 npm run build 之后 如果想切回 开发线， 那么得 重新 运行 npm run dev

### 基础项目目录结构
```bash

--dist             ---- 对应小程序的 目录

--node_modules     ---- node 开发模块

--src              ---- 主要开发代码

   |-- api              ---- 项目 api 集中管理

   |-- assets           ---- 静态文件管理（包括 css、 less、 images 等）

   |-- components       ---- 所有组件相关文件

   |-- config           ---- 环境变量 api 等配置文件

   |-- mixins           ---- 混合引用文件

   |-- pages
        |-- index       ---- 首页
        |-- test        ---- 测试 组件 等相关功能页面
   
   |-- template         ---- 模板页面（可以是由小组件组合而成）

   |-- utils            ---- 包含了 http login log cdnupload cache 等 工具类

```


### 开发工具 推荐 VS code

1. 在 vscode 应用商店中下载 vetur 将 .wpy 后缀 文件关联。启动代码高亮。 

### 最后就是 版本管理

1. 每位开发者，在 完成了一个 大的版本发布的时候。 通过 git  Create Branch 创建一个 分支， name: 当前日期 + 创建者 姓名(英文) 

   描述： 就是就写  当前项目名称 + 小程序的版本名称。

### 最后如果大家如果有什么问题，可以直接在 群里 @ 老司机


### 三、规范制定

